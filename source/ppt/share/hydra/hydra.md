% Hydra3架构
% 王一帆

## RPC

. . .

![](hydra/RPC1.png)

##

![](hydra/RPC2.png)

. . .

- Client需要知道Server地址

##

![](hydra/RPC3.png)

##

![](hydra/RPC4.png)

##

![](hydra/service.png)

##

![](hydra/function.png)

## Hydra2技术栈

- Netty(Pigeon)
- OSGi

## ClassLoader

![](hydra/classloader.png)

## OSGi ClassLoader

![](hydra/OSGi_ClassLoader.png)

##

<img src="hydra/hydra2.png" height="730px"/>

## Hydra2的缺陷

- 增加开发及部署难度
- 运行时错误提示
- 发布服务不方便
- 无服务治理

## Hydra3技术选型

- OSGi(屏蔽OSGi可见性)
- 自定义ClassLoader

##

<img src="hydra/servicenode.png" height="730px"/>

## Netty4架构

![](hydra/netty.png)

##

<img src="hydra/hydra3.png" height="730px"/>

# 谢谢
