---
layout: post
date: 2017-01-13
title: 不会玩魔兽的项目经理不是好项目经理
categories: [think]
tags: [experience,think,随笔]
avatarimg: "/img/head.jpg"
author: wangyifan
published: false

---

很明显，这是标题党～只是扯扯**项目管理**！

扯这个话题的原因是，上周部门有一个关于「关键路径」的分享，个人觉得「关键路径」这玩样比较鸡肋！这里做个复盘，确认一下是否确实是个鸡肋～

这里通过魔兽争霸里的人族来展开！

为什么是魔兽争霸呢？因为我好久不玩游戏了，现在游戏都是90后、00后的天下了，我这种80后的老人就不掺和了！魔兽争霸是我在大学里玩得最多的游戏，也是80后很熟悉的一款游戏了！至少能引起80后的共鸣！

那为什么是人族呢？因为在魔兽争霸里的四个种族里，人族有两项其它种族都不具备的技能！第一、农民可以变民兵！第二、多个农民可以同时建造一个建筑物。这更贴合我们的现实生活！

# 什么是关键路径

我们先来说说什么是「关键路径」！一堆无聊的概念，没兴趣的可直接忽略～

这是BusinessDictionary里的一段解释：

> Longest sequence of activities in a project plan which must be completed on time for the project to complete on due date. An activity on the critical path cannot be started until its predecessor activity is complete; if it is delayed for a day, the entire project will be delayed for a day unless the activity following the delayed activity is completed a day earlier.

简单翻译一下：

> 对于一个需要在特定时间内完成的项目，针对这个项目所制定的计划里，耗时最长的那个「活动序列」就称为是关键路径。在关键路径中的「活动」不能在它的前导「活动」结束前开始；如果一个活动延误了一天，则整个项目将会延误一天，除非后续的活动提前一天完成，来抵消这一天的延误

一个项目可以有多个，并行的关键路径。另一个总工期比关键路径的总工期略少的一条并行路径被称为**次关键路径**。

关键路线是一个动态系统，它会随着项目的进展不断更新，其采用单一时间估计法，其中**时间被视为一定的或确定的**。

在关键路径中，一般有以下一些时间参数：

- **最早开始时间（Early Start）**：活动最早开始时间由所有前置活动中最后一个最早结束时间确定。
- **最早结束时间（Early Finish）**：活动的最早结束时间由活动的最早开始时间加上其工期确定。
- **最迟结束时间（Late Finish）**：一个活动在不耽误整个项目的结束时间的情况下能够最迟结束的时间。它等于所有紧后工作中最早的一个最迟开始时间。
- **最迟开始时间（Late Start）**：一个活动在不耽误整个项目的结束时间的情况下能够最迟开始的时间。它等于活动的最迟结束时间减去活动的工期。
- **总时差（Total Float) **：指一项活动在不影响整体计划工期的情况下最大的浮动时间。
- **自由时差（Free Float）**：指活动在不影响其紧后工作的最早开始时间的情况下可以浮动的时间。

其实举个简单的例子就可以解释上面的概念了！

# 统筹方法

以前学过一篇叫统筹方法的文章，我印象非常深刻！因为我当时算错了！！！

大概问题是这样的：“烧水泡茶"有五道工序：

- 洗水壶
- 烧开水
- 洗茶壶
- 洗茶杯
- 拿茶叶
- 泡茶

洗水壶是烧开水的前提；烧开水、洗茶壶、洗茶杯，拿茶叶是泡茶的前提。

各道工序用时表： 洗水壶1分钟，烧开水15分钟，洗茶壶2分钟，洗茶杯1钟分，拿茶叶1分钟， 泡茶1分钟，如何以最快的速度烧水泡茶？

正常人都知道：

- 先洗水壶
- 烧开水
- 烧水过程中，洗刷茶具，拿茶叶
- 水烧开后沏茶

![](/assets/think/critialpath/path2.png)

以这个流程来看，如果我们想中午12点开始烧水泡茶，那么洗水壶的「最早开始时间」需要是12点，「最早结束时间」是12点1分；烧水的「最早开始时间」需要是12点1分，「最早结束时间」是12点16分！另一条现上，洗茶壶的「最早开始时间」是12点1分，「最早结束时间」是12点2分；洗茶杯的「最早开始时间」是12点2分，「最早结束时间」是12点3分；拿茶叶的「最早开始时间」是12点3分，「最早结束时间」是12点4分！而泡茶的「最早开始时间」是12点16分(必须要等水少好)，「最早结束时间」是12点17分；喝到茶的「最早开始时间」是12点17分！

再反过来推，如果要在12点17分能喝到茶！也就是说喝茶的「最晚开始时间」是12点17分！那么泡茶的「最晚开始时间」是12点16分，「最晚结束时间」是12点17分；烧水「最晚开始时间」是12点1分，「最晚结束烧水」时间是12点16分；洗水壶的「最晚开始时间」需要是12点，「最晚结束时间」是12点1分；拿茶叶的「最晚开始时间」是12点15分，拿茶叶「最晚结束时间」是12点16分；洗茶杯的「最晚开始时间」是12点14分，洗茶杯「最晚结束时间」是12点15分；洗茶壶的「最晚开始时间」是12点13分，洗茶壶「最晚结束时间」是12点14分；

可以看出，洗水壶、烧水和泡茶的「最早开始时间与最晚开始时间、最早结束时间与最晚结束时间是相同的」，也就是说洗水壶、烧水和泡茶是不能有偏差的！这条路径确定了泡茶的最终所耗时间，这条路径就是「关键路径」！

而洗茶壶、洗茶杯，拿茶叶的「最早开始时间与最晚开始时间、最早结束时间与最晚结束时间是不同的」！这条路径不决定最终的泡茶时间，所以是非关键路径！其中的12分钟的偏差就是「总时差」！而如果洗茶杯的最早开始时间变为12点5分，则洗茶壶的「自由误差」就是3分钟！

到这里都没什么问题，问题在下面，我们举个复杂的例子！

# 人族「万金油」

魔兽争霸的人族里有个著名的「万金油」组合，大致组合如下：

- 大法
- 山丘之王
- 三个步兵
- 五个火枪
- 三个女巫
- 一个男巫

我们假设有5个农民，金钱和木材无限，如何能最快的训练出万金油阵型！

首先我们来看下限制条件：

- 初始有5个农民、一个农场和城镇大厅。虽然金钱和木材无限，但是农民不能超过5个！
- 要出英雄需要造祭坛，祭坛建造时间为60秒，训练英雄时间为55秒
- 在城镇大厅升级到主城之前，不能出第二英雄「山丘之王」，城镇大厅升级到主城需要140秒
- 要训练步兵需要建造兵营，兵营建造时间为60秒，步兵训练时间为20秒
- 要训练火枪手，除了兵营还需要铁匠铺，建造铁匠铺需要70秒，训练火枪手为26秒
- 要出女巫和男巫需要神秘圣地，而建造神秘圣地需要先升级到主城，神秘圣地需要70秒的建造时间，女巫需要30秒的训练时间，男巫需要28秒的训练时间
- 要造人，需要建造农场，一个农场可以支持训练十个人口。其中英雄占5个人口，士兵2个人口，火枪手3个人口，女巫2个人口，男巫2个人口，农民一个人口！所以总人口为:5 * 1 + 2 * 5 + 3 * 2 + 5 * 3 + 3 * 2 + 1 * 2 = 44人口，出去初始的那个农场，需要再建造4个农场。建造一个农场需要35秒
- 所有建造时间均为单个农民建造时间，n个农民建造时间为t/n

是不是看晕了？我很贴心的画了一张图：

![](/assets/think/critialpath/path.png)

- 实线表示先后顺序
- 虚线为必要条件，表示所指向的目标需要执行时，除了要在实线初始端的目标之后执行外，还需要在虚线初始端的目标之后执行

如果做过项目管理，这个情况是不是很熟悉？其实就是五个人力，如何高效的完成项目？

# 统筹方法打造「万金油」

上面的烧水泡茶是个很简单的例子，一眼就能看出如何优化执行！这个例子你能一眼就看出最优执行方案吗？我们来看看使用统筹方法来打造「万金油」！

- **首先细化任务**

不论有没有做过项目经理，应该都知道，**一个任务的时间越长，误差就越大**！回想一下你考四六级的时候，你提前一年准备，计划三个月背单词、三个月看选择与阅读、三个月看写作，轻松搞定四六级。呸！别做梦了！最后可能单词书都翻不到C，最熟悉的单词就是abandon，别问我为什么知道的！

一般情况下一个任务应该控制在3天之内，最长不超过5天，这才能把控！对于上面的任务，我们来看，哪些步骤是可以拆的！

其实**所有的建造过程都可以拆**！前面说了，人族里有个特殊技能，可以合作建造，时间是原来的1/n！其实就是变相的把任务拆了！目前我们的建造任务有:

- 造祭坛60s
- 造兵营60s
- 造铁匠铺70s
- 造神秘圣地70s
- 造农场35s

实际上可以拆成：

- 造祭坛 12s * 5
- 造兵营 12s * 5
- 造铁匠铺 14s * 5
- 造神秘圣地 14s * 5
- 造农场 7s * 5

- **其次找出最长路径**

现在所有的任务都拆到不能再拆了！从这些任务中找出耗时最长的任务！通过其前置任务和后置任务，构建出一条任务路径！为什么这里不叫关键路径呢？因为只是一个初步选择，并不是特别准确！

很明显，这里最耗时的任务是升级主城，耗时140s！它没有前置任务，有两个后置任务：训练山丘之王和造神秘圣地！训练山丘之王55s，造神秘圣地70秒，好像造神秘圣地比训练山丘之王耗时长。

但是，请注意，神秘圣地可不是70秒哦，是12s * 5 哦！而训练山丘之王是实打实的55s！这里该如何选择呢？从上图可以看出，训练山丘之王之后就没有后置任务了，而建造神秘圣地后，还有后置任务！所以我们先选择神秘圣地作为后置任务，训练山丘之王作为备选项！那么现在的任务时间是140s + 70s = 210s！

神秘圣地的后置任务是训练一个男巫+三个女巫！看起来也是只能一个一个的建造！28s + (30s * 3) = 118s！但是，你可以多造几个神秘圣地啊！比如造4个神秘圣地，那训练男巫女巫的时间就变成了30s了！但是相对的，建造神秘圣地又多了,最长要消耗12s * 5 * 3 = 180s了，最短要消耗12s * 3 = 36s！怎么选择？

我们先不管这么多，依然直接选择最耗时且最明显的任务，即一个一个的训练男巫和女巫，耗时118s！目前总共耗时140s + 70s + 118s = 328s！目前这就是我们「万金油」任务的最长路径，但这不是个聪明的路径！

- **接着进行组合**

我们已经有了一条最长路径！我们将其它的任务，构成另一条或多条路径，使得任务时间和最长路径中的任务相接近，越接近说明人员使用越饱和，这样才能使得每个人力得到充分的发挥！万恶的资本主义啊！

为了方便说明，我们给五个农民分别标号A,B,C,D,E！

首先在升级主城的140s时间里！由于时间跨度很大，我们的组合方式就很灵活！比如说我们可以让A造祭坛60s，B和C造兵营30s，D造铁匠铺70s，E造两个农场70s！30s后兵营完成，训练两个士兵和一个火枪手,20s * 2 + 26s * 2 = 92s！为什么要这么分配呢？因为火枪手要等铁匠铺，而造好两个士兵后，正好铁匠铺完成！同时B和C再造一个兵营30s！完成后训练三个火枪手，26s * 3 = 78s！B和C再造一个兵营30s!完成后训练最后一个兵20s！祭坛完成后，立即训练大法师，同时A去造农场！D和E造完农场后，再一起造一个农场17.5s！

我们算一下，一共耗时多少秒！

- A:60s + 35s = 95s
- B:30s + 30s + 30s = 90s
- C:30s + 30s + 30s = 90s
- D:70s + 17.5s = 87.5s
- E:35s + 35s + 17.5s = 87.5s
- 大法师：55s
- 兵营1：30s + 20s * 2 + 26s * 2 = 122s
- 兵营2：60s + 26s * 3 = 138s
- 兵营3：90s + 20s = 110s

可以看出，农民的工作时间大约是90秒上下，分工还是比较平均的！士兵和火枪手在140s内全部训练完成！一般项目也是这样，迁移把控较好，压力也不是很大！到了后期，就开始忙了！

主城升级完成后，立即训练山丘之王55s，同时五个农民一起去造神秘圣地14s！造完了就开始造第二个神秘圣地！同时训练两个女巫30s * 2 = 60s！造完第二个神秘圣地后，再造一个神秘圣地！同时第二个神秘圣地训练一个女巫30s！第三个神秘圣地造完后，训练男巫28s！至此「万金油」组合完成！我们再看下时间！

- 此时五个农民耗时相同，都是12s * 3 = 36s
- 山丘之王：55s
- 神秘圣地1：14s + 30s * 2 = 74s
- 神秘圣地2：28s + 30s = 58s
- 神秘圣地3：42s + 28s = 70s

至此，整个任务的流程已经大致确定了！

#「万金油」中的关键路径

# 关键路径悖论

## 估算误差

## 最终都是关键路径

# 总结

关键路径的基本问题：
1、  什么是关键路径？
只有项目网络中最长的或耗时最多的活动完成之后，项目才能结束，这条最长的活动路线就叫关键路径（Critical Path）
2、  关键路径可以超过一条吗？
可以，可以有两条甚至以上。
3、  关键路径是一成不变的吗？
不是，在进度计划的优化或项目实施过程中，关键路径可能发生变化。
4、  关键路径越多，对项目意味着什么？
关键路径越多，项目的风险越大，就越难管理。
5、  关键路径上可以有虚活动吗？
可以（在箭线法中）。
6、  会出现负浮动时间吗？
会，如果关键路径上的活动被延误了，或者管理层要求比原定日期提前完工。
7、  出现负浮动时间时，怎么办？
负浮动时间必须尽快加以解决，可以进行赶工、快速跟进等。
