---
layout: post
date: 2017-01-16
title: JMH架构与源码分析
categories: [architecture]
tags: [architecture,jmh]
avatarimg: "/img/head.jpg"
author: wangyifan
published: false

---

# 什么是JMH

# 简单示例

# JMH整体架构

## JMH组件

- Runner：执行JMH测试
- Result：JMH执行结果
- ResultFormat：结果格式
- OutputFormat：输出格式
- Options：执行JMH的参数

## JMH包结构

jmh-core中包含了7个包：

- annotations：没什么可说的了，JMH中的注解
- generators.core：用于生成JMH相关代码
- infra：对被测试的方法的资源消耗的一些模拟类(暂未搞清楚)
- profile：各种自定义监控类，类似Filter，通过OptionsBuilder.addProfiler构建profile链，增加感兴趣的监控点
- results：JMH执行结果
- runner：执行JMH的相关类
- util：工具类

## 相关类

注解类

AuxCounters
Benchmark
BenchmarkMode
CompilerControl
Fork
Group
GroupThreads
Level
Measurement
Mode
OperationsPerInvocation
OutputTimeUnit
Param
Scope
Setup
State
TearDown
Threads
Timeout
Warmup
