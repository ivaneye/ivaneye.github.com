<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>思考，执行，表达！</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">思考，执行，表达！</h1><a id="logo" href="/.">思考，执行，表达！</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h2 class="post-title"><a href="/2015/11/24/golang-first.html">Go语言初探</a></h2><div class="post-meta">2015-11-24</div><a data-thread-key="2015/11/24/golang-first.html" href="/2015/11/24/golang-first.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>最近研究Docker，由于Docker由golang编写，为了更好的梳理Docker，所以先过了一下golang。</p>
<p>其实之前看过golang，对其语法无爱，所以就没太关注。</p>
<p>这次先简单梳理一下个人感觉比较有新意的地方！</p>
<h1 id="less-is-more"><a href="#less-is-more" class="headerlink" title="less is more"></a>less is more</h1><p>golang推崇少即是多理念，语法简单，关键字就20多个，半天过一遍语法绰绰有余！</p>
<p>相对的Java关键字近100个，死板的语法，一堆的模板代码，这也是Java一直被喷的地方！</p>
<p>PS:要说”少即是多”理念的话，应该首推Lisp，比如Clojure,关键字不超过10个，其它功能全部是在这几个关键字上实现的，且语法高度统一</p>
<p>就看最简单的Hello World就行了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//java实现</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">        System.out.println(<span class="string">"Hello World"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//go实现</span></div><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Println(<span class="string">"Hello World"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">;clojure实现</span></div><div class="line">(<span class="name">println</span> <span class="string">"Hello World"</span>)</div></pre></td></tr></table></figure>
<p>就HelloWorld这个例子看，golang和Java算是半斤八两!对比可以看出如下几个区别:</p>
<ul>
<li>golang不是面向对象语言，所以不是基于类和对象来构建代码的</li>
<li>golang不像Java会默认导入例如java.lang包，需要手动import</li>
<li>golang的启动方法也叫main，不过没有参数，且这个方法必须要在main这个包里</li>
<li>golang没有访问权限控制符，它的访问控制是靠大小写来控制的(看到这你能理解为什么Println的P要大写了吧?)</li>
</ul></div><p class="readmore"><a href="/2015/11/24/golang-first.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/11/embed-osgi.html">实时发布-嵌入式OSGi的应用</a></h2><div class="post-meta">2015-11-11</div><a data-thread-key="2015/11/11/embed-osgi.html" href="/2015/11/11/embed-osgi.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h1><p>单机应用已经越来越不能符合目前越来越复杂的产品需求了。即使是小型应用，至少也需要部署2台以上的服务器做集群。且应用必须24小时对外服务,可用性得达到n个9。这就对发布有了更高的要求。</p>
<p>也就催生了灰度发布这样的发布过程。而即使是这样，还是需要经历大致如下的发布过程:</p>
<ul>
<li>下载代码</li>
<li>打包</li>
<li>停止服务器</li>
<li>部署</li>
<li>启动服务器</li>
</ul>
<p>而业界一直诟病JVM的启动速度，再加上如果项目比较大，编译过程比较长，发布机器比较多，那么做一次完整的发布可能需要几个小时。万一中途出了问题，要回退，又要几个小时。</p>
<p>是否可以解决这样的问题呢？而OSGi恰是一个不错的选择!</p>
<h1 id="OSGi"><a href="#OSGi" class="headerlink" title="OSGi"></a>OSGi</h1><p>OSGi是一个优雅、完整和动态的组件模型，提供了完整的模块化运行环境。</p>
<p>应用程序（称为bundle）无需重新引导可以被远程安装、启动、升级和卸载。</p>
<p>其主要应用在嵌入式开发中，而在JavaSE和JavaEE方面则少有建树。其最著名的使用就是eclipse了。究其原因主要有:</p>
<ul>
<li>增加开发难度：需要开发人员更关心模块的划分，处理模块与模块之间的依赖关系(模块间的导入导出),这是一个好的方面，但是</li>
<li>没有完善的工具：模块间的依赖关系需要开发人员手动处理(有相应的工具，但不能百分百处理依赖关系)。</li>
<li>额外的运行环境：应用(bundle)需要运行在实现了OSGi规范的容器内，导致了模块间的依赖关系需要在运行时才能验证是否有问题。也就是说无法在编译期验证模块间的关系。同时也增加了测试及调试的难度。</li>
</ul>
<p>可以看出，OSGi的主要缺点是开发较繁琐。而针对前面所提到的问题，OSGi解决了如下几个问题:</p>
<ul>
<li>项目模块化，对于项目的更新与发布不再需要发布整个项目，只需要发布需要更新的模块即可。提高了编译打包的速度。</li>
<li>OSGi可在运行时的对bundle进行安装、启动、升级和卸载。提高了部署的速度。(这里就需要吐槽一下eclipse了，它是基于osgi的，但是每次安装插件都要重启是要搞哪样？！)</li>
<li>支持多版本发布。在OSGi容器内可发布相同应用的不同版本</li>
</ul>
<p>OSGi是如何做到这些的呢？其实OSGi实现了一套自身的ClassLoader，具体可见<a href="!--￼18--">此文</a></p>
<h1 id="OSGi容器"><a href="#OSGi容器" class="headerlink" title="OSGi容器"></a>OSGi容器</h1><p>目前OSGi容器主要有Knopflerfish, Apache Felix, Equinox, Spring DM。其具体比较请见<a href="http://www.cnblogs.com/longkerdandy/archive/2010/09/29/OSGi_Compare.html">此文</a></p>
<p>以及其上的一些应用，方便在OSGi上进行开发，比如Karaf,ServiceMix等。</p></div><p class="readmore"><a href="/2015/11/11/embed-osgi.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/03/javabasic.html">Java环境与语法</a></h2><div class="post-meta">2015-11-03</div><a data-thread-key="2015/11/03/javabasic.html" href="/2015/11/03/javabasic.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>本文是对<a href="!--￼46--">如何学习一门编程语言</a>的具体实践-Java语言第一篇。</p>
<p>前面说了基础语法是很简单的，如果有语言基础，比较好的方法是过一遍<a href="http://learnxinyminutes.com/">Learn X in Y minutes</a>。</p>
<p>下文是在公司给毕业生做培训时的PPT，可做参考！</p>
<h1 id="Java环境搭建"><a href="#Java环境搭建" class="headerlink" title="Java环境搭建"></a>Java环境搭建</h1><ul>
<li>到<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Oracle官方网站</a>下载相应操作系统的JDK进行安装</li>
<li>打开命令行,输入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -version</div></pre></td></tr></table></figure>
<p>得到如下信息，则表示搭建成功!</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">java version <span class="string">"1.8.0"</span></div><div class="line">Java(TM) SE Runtime Environment (build 1.8.0-b132)</div><div class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)</div></pre></td></tr></table></figure>
<p>Java中需要理解两个路径：</p>
<ul>
<li>path是系统查找程序的路径</li>
<li>classpath是Java查找类的路径</li>
</ul>
<h1 id="第一个程序"><a href="#第一个程序" class="headerlink" title="第一个程序"></a>第一个程序</h1><ul>
<li>创建文件Hello.java</li>
<li>输入如下代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//例子代码</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> a = <span class="number">1</span> + <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> b = <span class="number">1</span> + <span class="number">2</span>;</div><div class="line">        System.out.println(<span class="string">"(1 + 1) * 3 + (1 + 2) = "</span> + (a * <span class="number">3</span> + b));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>打开命令行,切换到文件所在路径</li>
<li>输入javac Hello.java</li>
<li>输入java Hello</li>
</ul></div><p class="readmore"><a href="/2015/11/03/javabasic.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/01/language.html">如何学习一门编程语言</a></h2><div class="post-meta">2015-11-01</div><a data-thread-key="2015/11/01/language.html" href="/2015/11/01/language.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>未来的应用必然是异构的，绝对不会限定在一门语言上，这就要求我们能根据需要快速的掌握一门语言。</p>
<p>本文就个人经历谈一谈如何快速的学习一门编程语言。主要面向已经掌握了一门语言的人。</p>
<h1 id="学习目的"><a href="#学习目的" class="headerlink" title="学习目的"></a>学习目的</h1><p>当你决定要学习一门语言的时候，请先问问自己为什么要学习这门语言？<br>如果答案是这门语言现在很火，那么可以洗洗睡了。生命苦短，好好玩乐吧，少年！</p>
<p>个人认为需要学习一门语言的动机有如下几个：</p>
<ul>
<li>工作需要:工作需要使用这门语言，而且你还得靠这份工作养活，那么无论你怎么不情愿，硬着头皮学吧！</li>
<li>提高效率:目前你使用的语言效率不高，而另一门语言能显著的提高效率(公司对语言的使用没有限制)。或者能作为工具语言提高你的工作效率。</li>
<li>拓宽思路:你使用的面向过程语言，想了解了解被吹得天花乱坠的面向对象语言。或者你使用的面向对象语言，想看看函数式编程语言是什么鬼！</li>
</ul>
<p>而第一种目的和第二，三中目的所要学习的程度则有差别。工作需要当然是越深入越好。提高效率则更偏向实用。拓宽思路则理解其思想即可。</p>
<p>确立了目标后才能更好的学习语言，比如你只是想拓宽思路，那么没必要死抠语法，理解其思想即可，语法忘了就忘了。如果是使用，那么后期需要频繁的使用，在使用的过程中反馈学习，才能有更好的效果。编程嘛，无他，唯手熟尔！</p>
<p>无论什么目的，都需要从基础开始！</p>
<h1 id="环境与语法"><a href="#环境与语法" class="headerlink" title="环境与语法"></a>环境与语法</h1><p>首先是要摸清你要学习的语言的环境和基本语法。这个耗时不会很长，一般半天左右即可。</p>
<p>目前大部分语言都提供了傻瓜式的安装包，所以环境基本不是问题了。</p>
<p>语法的话，基本语法其实很简单。只要你有一门编程语言的基础，基本语法的学习也就是分分钟的事。无外乎:</p>
<ul>
<li>常量</li>
<li>变量</li>
<li>逻辑判断</li>
<li>循环/递归</li>
</ul>
<p>等等,这些最基本的东西，只是各个语言在语法表达层面上的差异罢了!</p>
<h1 id="语言的思想"><a href="#语言的思想" class="headerlink" title="语言的思想"></a>语言的思想</h1><p>基本语法只能说达到了Hello World的级别。而语言的思想则是核心重点。</p>
<p>当然，如果你会过程式语言，再学一门过程式语言，这个坎就比较小了(只涉及到一些小的语法层面的学习，<br>比如Java使用接口来实现多重继承，而ruby使用的是mixin)。但是如果你学过过程式语言，现在要学面向对象语言，<br>或者你会面向对象语言，要学习函数式语言，则需要重点越过这个坎。</p></div><p class="readmore"><a href="/2015/11/01/language.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/10/29/docker-first.html">Docker初探</a></h2><div class="post-meta">2015-10-29</div><a data-thread-key="2015/10/29/docker-first.html" href="/2015/10/29/docker-first.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="Docker的用途"><a href="#Docker的用途" class="headerlink" title="Docker的用途"></a>Docker的用途</h1><p>在程序的生命周期中，主要有开发，测试，发布环节。每个环节都需要部署相应的环境。</p>
<p>简单来说，Java使得程序能够一次编译到处运行，但是需要部署的每台机器都要部署jdk，server等，而每次部署都会是个耗时的过程，可能jdk版本不同，机器系统不同等导致部署环境不一致，进而导致无法发布应用的情况。</p>
<p>Docker的作用就是将整个应用连带部署环境一起打包。就是说开发时配置好的环境，可以一起打包，拷贝到测试，发布机器上直接去发布即可。</p>
<h1 id="Docker的安装"><a href="#Docker的安装" class="headerlink" title="Docker的安装"></a>Docker的安装</h1><p>windows下从下面的连接下载安装包!</p>
<p><a href="https://github.com/boot2docker/windows-installer/releases">https://github.com/boot2docker/windows-installer/releases</a></p>
<p>下载最新版本的：docker-install.exe即可。一路next，没什么好说的。</p>
<h1 id="启动Docker"><a href="#启动Docker" class="headerlink" title="启动Docker"></a>启动Docker</h1><p>直接双击Boot2Docker Start即可启动。启动后会将c:/Users/{username}目录挂载过去，可以作为本地与docker的文件交互目录</p>
<h1 id="SSH连接"><a href="#SSH连接" class="headerlink" title="SSH连接"></a>SSH连接</h1><p>可以通过SSH工具连接到Docker上进行操作！在Docker界面上通过<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">boot2docker ip</div></pre></td></tr></table></figure></p>
<p>可以获取Docker的IP。默认的用户名和密码是： docker/tcuser</p></div><p class="readmore"><a href="/2015/10/29/docker-first.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/09/23/jigsaw-quick-start.html">Java模块化:jigsaw初体验</a></h2><div class="post-meta">2015-09-23</div><a data-thread-key="2015/09/23/jigsaw-quick-start.html" href="/2015/09/23/jigsaw-quick-start.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Java模块化一拖再拖，目前jdk9发布了包含jigsaw的先行版。本文为<a href="http://openjdk.java.net/projects/jigsaw/quick-start">Project Jigsaw: Module System Quick-Start Guide</a>的简译，及使用感受总结。</p>
<h1 id="翻译正文"><a href="#翻译正文" class="headerlink" title="翻译正文"></a>翻译正文</h1><p>本文提供了一些简单的例子方便开发者熟悉模块化。</p>
<p>例子中的文件路径使用反斜杠和冒号分隔。Windows用户请修改为反斜杠和分号。</p>
<h2 id="Greetings"><a href="#Greetings" class="headerlink" title="Greetings"></a>Greetings</h2><p>第一个例子是个叫com.greetings的模块，它只是简单的打印”Greetings!”。这个模块包含两个源文件:模块定义文件(mmodule-info.java)和主类。</p>
<p>按规定，源文件需要在一个目录下，这个目录表示模块，目录名即模块名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">src/com.greetings/com/greetings/Main.java</div><div class="line">src/com.greetings/module-info.java</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat src/com.greetings/module-info.java</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> com.greetings &#123; &#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat src/com.greetings/com/greetings/Main.java</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.greetings;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"Greetings!"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p class="readmore"><a href="/2015/09/23/jigsaw-quick-start.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/06/07/cdraw.html">Clojure绘制UML</a></h2><div class="post-meta">2015-06-07</div><a data-thread-key="2015/06/07/cdraw.html" href="/2015/06/07/cdraw.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>使用Clojure封装了Graphviz的使用，目前主要实现了UML的绘制</p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>以命令模式的UML为例，演示cdraw的使用</p>
<p><img src="/assets/designpattern/command.jpg" alt=""></p>
<h1 id="安装Graphviz"><a href="#安装Graphviz" class="headerlink" title="安装Graphviz"></a>安装Graphviz</h1><p>cdraw是对Graphviz的简单封装，请先安装Graphviz</p>
<h1 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h1><ul>
<li>使用leiningen新建一个Clojure项目uml</li>
<li>在project.clj中添加如下依赖</li>
</ul>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[com.ivaneye/cdraw <span class="string">"0.2.0"</span>]</div></pre></td></tr></table></figure>
<h1 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h1><ul>
<li>在uml.core中编写如下代码</li>
</ul>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name"><span class="builtin-name">ns</span></span> uml.core</div><div class="line">  (<span class="symbol">:require</span> [cdraw.uml <span class="symbol">:refer</span> <span class="symbol">:all</span>]))</div><div class="line"></div><div class="line"> (<span class="name">defclass</span> Client)</div><div class="line"> (<span class="name">defclass</span> Inboker)</div><div class="line"> (<span class="name">defclass</span> Receiver &#123;<span class="symbol">:m</span> [<span class="string">"Action()"</span>]&#125;)</div><div class="line"> (<span class="name">defclass</span> Command &#123;<span class="symbol">:m</span> [<span class="string">"Execute()"</span>]&#125;)</div><div class="line"> (<span class="name">defclass</span> ConcreteCommand &#123;<span class="symbol">:f</span>  [<span class="string">"state"</span>] <span class="symbol">:m</span> [<span class="string">"Execute()"</span>]&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>第一，二行，引入了cdraw</li>
<li>defclass定义了类，及其字段(:f)和方法(:m),效果图如下:</li>
</ul>
<p><img src="/assets/mycode/cdraw/c1.png" alt=""></p></div><p class="readmore"><a href="/2015/06/07/cdraw.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/05/20/classloader.html">ClassLoader</a></h2><div class="post-meta">2015-05-20</div><a data-thread-key="2015/05/20/classloader.html" href="/2015/05/20/classloader.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="什么是ClassLoader"><a href="#什么是ClassLoader" class="headerlink" title="什么是ClassLoader?"></a>什么是ClassLoader?</h1><p>Java程序都是由若干个.class文件组成，程序的运行过程即是对class文件的调用。<br>程序在启动的时候，并不会一次性加载程序所要用的所有class文件，而是根据程序的需要，<br>通过Java的类加载机制（ClassLoader）来动态加载某个class文件到内存当中的，<br>只有class文件被载入到了内存之后，才能被其它class所引用。<br>所以ClassLoader就是用来动态加载class文件到内存当中用的。</p>
<h1 id="Java默认提供的三个ClassLoader"><a href="#Java默认提供的三个ClassLoader" class="headerlink" title="Java默认提供的三个ClassLoader"></a>Java默认提供的三个ClassLoader</h1><ul>
<li>BootStrap ClassLoader：称为启动类加载器，是Java类加载层次中最顶层的类加载器，负责加载JDK中的核心类库，如：rt.jar、resources.jar、charsets.jar等</li>
<li>Extension ClassLoader：称为扩展类加载器，负责加载Java的扩展类库，默认加载JAVA_HOME/jre/lib/ext/目下的所有jar。</li>
<li>App ClassLoader：称为系统类加载器，负责加载应用程序classpath目录下的所有jar和class文件。</li>
</ul>
<p><img src="/assets/jvm/classloader/classloader.jpg" alt=""></p>
<p>示例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> com.sun.nio.zipfs.ZipFileStore;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"1"</span>.getClass().getClassLoader());</div><div class="line">        System.out.println(ZipFileStore.class.getClassLoader());</div><div class="line">        System.out.println(A.class.getClassLoader());</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;&#125;</div></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">null                          //BootS<span class="built_in">trap</span> ClassLoader输出为null</div><div class="line">sun.misc.Launcher<span class="variable">$ExtClassLoader</span>@3e10c986</div><div class="line">sun.misc.Launcher<span class="variable">$AppClassLoader</span>@610f7612</div></pre></td></tr></table></figure></div><p class="readmore"><a href="/2015/05/20/classloader.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/05/12/consensus-protocol.html">一致性协议</a></h2><div class="post-meta">2015-05-12</div><a data-thread-key="2015/05/12/consensus-protocol.html" href="/2015/05/12/consensus-protocol.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>一致性协议主要是为了解决分布式环境下的数据一致性问题。</p>
<p>对于单节点应用来说，数据的同步相对较简单。例如数据库的事务，多线程中的锁，都是为了保证数据的一致性。</p>
<p>而对于分布式环境来说，没有完善的强一致性解决方案。</p>
<p>在2000年，加州大学伯克利分校Eric Brewer教授提出了CAP猜想(后被证明可行)：一个分布式系统不可能同时满足一致性(C:Consistency),<br>可用性(A:Abailability)和分区容错性(P:Partition tolerance)这三个基本需求，最多只能同时满足其中的两项。</p>
<p>后eBay架构师Dan Pritchett提出了BASE理论，即Basically Available(基本可用),Soft state(软状态)和Eventually consisent(最终一致性)。<br>其核心思想即无法做到强一致性，但系统可以根据自身做到最终一致性。</p>
<p>故对于分布式系统设计，目前的做法是保证可用性和分区容错性的基础上去实现最终一致性。</p>
<p>而对于最终一致性处理，比较著名的协议和算法便是：二阶段提交协议(2PC)，三阶段提交协议(3PC)以及Paxos算法。</p></div><p class="readmore"><a href="/2015/05/12/consensus-protocol.html">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/05/04/string.html">读源码-String</a></h2><div class="post-meta">2015-05-04</div><a data-thread-key="2015/05/04/string.html" href="/2015/05/04/string.html#comments" class="ds-thread-count"></a><div class="post-content"><h1 id="String操作"><a href="#String操作" class="headerlink" title="String操作"></a>String操作</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        String str = <span class="string">"abCb"</span>;</div><div class="line">        System.out.println(str.length());</div><div class="line">        System.out.println(str.charAt(<span class="number">2</span>));</div><div class="line">        System.out.println(str.getBytes());</div><div class="line">        System.out.println(str.equals(<span class="string">"abc"</span>));</div><div class="line">        System.out.println(str.equalsIgnoreCase(<span class="string">"aBc"</span>));</div><div class="line">        System.out.println(str.compareTo(<span class="string">"bbb"</span>));</div><div class="line">        System.out.println(str.contains(<span class="string">"b"</span>));</div><div class="line">        System.out.println(str.startsWith(<span class="string">"a"</span>));</div><div class="line">        System.out.println(str.endsWith(<span class="string">"c"</span>));</div><div class="line">        System.out.println(str.indexOf(<span class="number">0</span>));</div><div class="line">        System.out.println(str.lastIndexOf(<span class="number">0</span>));</div><div class="line">        System.out.println(str.substring(<span class="number">1</span>));</div><div class="line">        System.out.println(str.concat(<span class="string">"d"</span>));</div><div class="line">        System.out.println(str.replace(<span class="string">"b"</span>, <span class="string">"B"</span>));</div><div class="line">        System.out.println(str.replaceAll(<span class="string">"b"</span>, <span class="string">"B"</span>));</div><div class="line">        System.out.println(str.toLowerCase());</div><div class="line">        System.out.println(str.toUpperCase());</div><div class="line">        System.out.println(str.trim());</div><div class="line">        System.out.println(str.split(<span class="string">"b"</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="String实现"><a href="#String实现" class="headerlink" title="String实现"></a>String实现</h1><p>String是不可变的，其是一个final类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></div></pre></td></tr></table></figure>
<p>其实现了java.io.Serializable, Comparable<String>, CharSequence三个接口</p>
<p><img src="/assets/opensource/jdk/string.png" alt=""></p></div><p class="readmore"><a href="/2015/05/04/string.html">阅读更多</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/4/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://ivaneye.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/architecture/">architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/book/">book</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/clojure/">clojure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/code/">code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/consensus/">consensus</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/designpattern/">designpattern</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/how/">how</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/io/">io</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jdk/">jdk</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/junit3/">junit3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/junit4/">junit4</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jvm/">jvm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lighttable/">lighttable</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/luminus/">luminus</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/module/">module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mycode/">mycode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/think/">think</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/thread/">thread</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/train/">train</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/why/">why</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/xmind/">xmind</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/zookeeper/">zookeeper</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/book/" style="font-size: 15px;">book</a> <a href="/tags/other/" style="font-size: 15px;">other</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a> <a href="/tags/review/" style="font-size: 15px;">review</a> <a href="/tags/read/" style="font-size: 15px;">read</a> <a href="/tags/think/" style="font-size: 15px;">think</a> <a href="/tags/concept/" style="font-size: 15px;">concept</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/designpattern/" style="font-size: 15px;">designpattern</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/clojure/" style="font-size: 15px;">clojure</a> <a href="/tags/osgi/" style="font-size: 15px;">osgi</a> <a href="/tags/proxy/" style="font-size: 15px;">proxy</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a> <a href="/tags/language/" style="font-size: 15px;">language</a> <a href="/tags/graphviz/" style="font-size: 15px;">graphviz</a> <a href="/tags/cdraw/" style="font-size: 15px;">cdraw</a> <a href="/tags/framework/" style="font-size: 15px;">framework</a> <a href="/tags/luminus/" style="font-size: 15px;">luminus</a> <a href="/tags/xmind/" style="font-size: 15px;">xmind</a> <a href="/tags/transactional/" style="font-size: 15px;">transactional</a> <a href="/tags/index/" style="font-size: 15px;">index</a> <a href="/tags/thread/" style="font-size: 15px;">thread</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/opensource/" style="font-size: 15px;">opensource</a> <a href="/tags/jdk/" style="font-size: 15px;">jdk</a> <a href="/tags/junit3/" style="font-size: 15px;">junit3</a> <a href="/tags/junit4/" style="font-size: 15px;">junit4</a> <a href="/tags/lighttable/" style="font-size: 15px;">lighttable</a> <a href="/tags/theme/" style="font-size: 15px;">theme</a> <a href="/tags/how/" style="font-size: 15px;">how</a> <a href="/tags/io/" style="font-size: 15px;">io</a> <a href="/tags/reactor/" style="font-size: 15px;">reactor</a> <a href="/tags/classloader/" style="font-size: 15px;">classloader</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/jigsaw/" style="font-size: 15px;">jigsaw</a> <a href="/tags/module/" style="font-size: 15px;">module</a> <a href="/tags/why/" style="font-size: 15px;">why</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/consensus/" style="font-size: 15px;">consensus</a> <a href="/tags/paxos/" style="font-size: 15px;">paxos</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/18/iwant.html">散弹枪知识与狙击枪知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/29/philosophy.html">哲学是个什么鬼?</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/27/lunch.html">巴菲特午餐</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/21/cost.html">为时间买单</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/19/nas.html">Mybooklive修复</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/13/vote.html">李狗嗨与美国大选</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/06/learn.html">如何高效学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/01/machine.html">与机器赛跑</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/30/salary.html">平均薪酬×××，你拖后腿了吗？</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/20/zhihulive.html">评李笑来的知乎live</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">思考，执行，表达！.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'ivanpig'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>