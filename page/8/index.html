<!DOCTYPE html>
<html class="no-js" lang="pt-br">
  <head>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="alternate" href="http://ivaneye.com" hreflang="pt-BR">
<link href="http://gmpg.org/xfn/11" rel="profile">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#005344">
<title>wangyifan | 懒是一种态度 - Página 8</title>
<meta name="google-site-verification" content="zS1dSn20XtA4FJYEOQLXqI0boxZdMnJ2g3beje-cl20">
<meta name="description" content="Architecturer - Página 8 ">
<meta name="keywords" content="blog,java,clojure,golang,go,architectures">
<!-- Social: Facebook / Open Graph -->
<meta property="og:url" content="http://ivaneye.com/page/8/">
<meta property="og:title" content="wangyifan | 懒是一种态度 - Página 8">
<meta property="og:description" content="Architecturer - Página 8 ">
<meta property="og:site_name" content="wangyifan">
<meta property="og:locale" content="pt_BR">
<meta property="og:type" content="website">
<meta property="og:author" content="http://facebook.com/ivan.pig.73">
<meta property="og:image" content="http://ivaneye.com">
<!-- Social: Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@nandomoreirame">
<meta name="twitter:domain" content="http://ivaneye.com">
<meta name="twitter:title" content="wangyifan | 懒是一种态度 - Página 8">
<meta name="twitter:description" content="Architecturer - Página 8 ">
<meta name="twitter:image:src" content="http://ivaneye.com">
<!-- Favicons -->
<link rel="apple-touch-icon" sizes="114x114" href="http://ivaneye.com/assets/ico/apple-touch-icon-114-516f4e19976b9e4dbb77ad9b576831fe.png">
<link rel="apple-touch-icon" sizes="72x72" href="http://ivaneye.com/assets/ico/apple-touch-icon-72-5409b2df229305703caf583d86c845ab.png">
<link rel="apple-touch-icon" href="http://ivaneye.com/assets/ico/apple-touch-icon-57-aa873e019cf659e0d4e6a0b5bb9f379d.png">
<link rel="shortcut icon" href="http://ivaneye.com/assets/ico/favicon-b5ecc36e2f9d7bd353ee91851eb81a94.png">
<!-- rel prev and next -->
  <link rel="prev" href="http://ivaneye.com/page/7">
  <link rel="next" href="http://ivaneye.com/page/9">
<!-- Canonical link tag -->
<link rel="canonical" href="http://ivaneye.com/page/8/">
<link rel="alternate" type="application/rss+xml" title="wangyifan" href="http://ivaneye.com/feed.xml">
<link rel="stylesheet" href="/assets/main-2c2e59f696eac4fed329aacc581a5ade.css">
<script src="/assets/modernizr-custom-cb807611a3e262b2eac59444cbab74d6.js" data-cfasync="false"></script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Website",
  "publisher": "ivaneye.com",
  "url": "http://ivaneye.com/",
  "description": "懒是一种态度"
}
</script>
<script type="text/javascript">
  var disqus_shortname = '',
      baseurl          = '';
</script>
<script type="text/javascript">
// var _gaq = _gaq || [];
// _gaq.push(['_setAccount', '']);
// _gaq.push(['_trackPageview']);
//
// (function() {
//   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
//   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
//   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
// })();
</script>
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ad7ba5b03bf52a9b727792c1675ffc6a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </head>
  <body class="page-template home">
    <header class="header alt">
  <div class="container">
    <h1><a href="/"><strong>ivaneye</strong>.com</a></h1>
    <nav class="navbar">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="#!" data-modal="modalSearch"><i class="fa fa-search"></i></a></li>
        <li><a href="/feed.xml" target="_blank"><i class="fa fa-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>
      <section class="banner">
  <img src="/img/head.jpg" alt="author thumb" class="dot animated hinge fadeInDown">
  <h2 class="animated hinge fadeInDown" itemscope itemtype="http://schema.org/Person">懒是一种态度</h2>
  <nav class="actions">
    <a href="/about" class="button ghost">About</a>
    <a href="/type" class="button ghost">Categories</a>
    <a href="/tag" class="button ghost">Tags</a>
</nav>
</section>
    <main class="wrapper container" itemprop="mainContentOfPage" itemscope="itemscope" itemtype="http://schema.org/Blog">
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2015/02/05/abstract_factory.html" title="Permalink to 语言与模式-03抽象工厂模式">语言与模式-03抽象工厂模式</a>
    </h1>
  </header>
  <p>
      <h1>意图</h1>
<p>提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。</p>
<p><img src="/assets/designpattern/abstract_factory.jpg" alt=""></p>
<h1>适用性</h1>
<ul>
<li>一个系统要独立于它的产品的创建、组合和表示时。</li>
<li>一个系统要由多个产品系列中的一个来配置时。</li>
<li>当你要强调一系列相关的产品对象的设计以便进行联合使用时。</li>
<li>当你提供一个产品类库，而只想显示它们的接口而不是实现时。</li>
</ul>
<h1>Java实现</h1>
<p>表现在代码层面就是一个工厂可以返回多个不同的实例！</p>
<p>比如:Pig不仅分颜色，还分国家，比如荷兰Pig，新西兰Pig。</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedPigFactory</span> <span class="kd">implements</span> <span class="n">PigFactory</span><span class="o">{</span>
     <span class="kd">public</span> <span class="n">Pig</span> <span class="nf">getNetherlandsPig</span><span class="o">(){</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nf">RedNetherlandsPig</span><span class="o">();</span>
     <span class="o">}</span>
     <span class="kd">public</span> <span class="n">Pig</span> <span class="nf">getNewZealandPig</span><span class="o">(){</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nf">RedNewZealandPig</span><span class="o">();</span>
     <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
      <!-- 意图 提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。 适用性 一个系统要独立于它的产品的创建、组合和表示时。 一个系统要由多个产品系列中的一个来配置时。 当你要强调一系列相关的产品对象的设计以便进行联合使用时。 当你提供一个产品类库，而只想显示它们的接口而不是实现时。 Java实现 表现在代码层面就是一个工厂可以返回多个不同的实例！ 比如:Pig不仅分颜色，还分国家，比如荷兰Pig，新西兰Pig。 public class RedPigFactory implements PigFactory{ public Pig getNetherlandsPig(){ return new RedNetherlandsPig(); } public Pig getNewZealandPig(){ return new RedNewZealandPig(); } } Clojure实现 而在Clojure中就是选择函数的条件多了！ (defmulti run (fn [t] t)) (defmethod run [:RedPig :Netherlands] [t] (println &quot;Netherlands RedPig run&quot;)) (defmethod run [:GreenPig :Netherlands]... -->
  </p>
  <footer class="post-meta">
    <time datetime="2015-02-05">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2015/02/05/abstract_factory.html#disqus_thread" data-disqus-identifier="/2015/02/05/abstract_factory">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2015/02/04/factory.html" title="Permalink to 语言与模式-02工厂模式">语言与模式-02工厂模式</a>
    </h1>
  </header>
  <p>
      <h1>意图</h1>
<p>定义一个用于创建对象的接口，让子类决定实例化哪一个类。Factory Method使一个类的实例化延迟到其子类。</p>
<p><img src="/assets/designpattern/factory.jpg" alt=""></p>
<h1>适用性</h1>
<ul>
<li>当一个类不知道它所必须创建的对象的类的时候。</li>
<li>当一个类希望由它的子类来指定它所创建的对象的时候。</li>
<li>当类将创建对象的职责委托给多个帮助子类中的某一个，并且你希望将哪一个帮助子类是代理者这一信息局部化的时候。</li>
</ul>
<h1>Java实现</h1>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Pig</span><span class="o">{</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">();</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PigFactory</span><span class="o">{</span>
     <span class="kd">public</span> <span class="n">Pig</span> <span class="nf">getPig</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedPig</span><span class="o">{</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;RedPig run&quot;</span><span class="o">);</span>
     <span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedPigFactory</span> <span class="kd">implements</span> <span class="n">PigFactory</span><span class="o">{</span>
     <span class="kd">public</span> <span class="n">Pig</span> <span class="nf">getPig</span><span class="o">(){</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nf">RedPig</span><span class="o">();</span>
     <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GreenPig</span><span class="o">{</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;GreenPig run&quot;</span><span class="o">);</span>
     <span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GreenPigFactory</span> <span class="kd">implements</span> <span class="n">PigFactory</span><span class="o">{</span>
     <span class="kd">public</span> <span class="n">Pig</span> <span class="nf">getPig</span><span class="o">(){</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nf">GreenPig</span><span class="o">();</span>
     <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
      <!-- 意图 定义一个用于创建对象的接口，让子类决定实例化哪一个类。Factory Method使一个类的实例化延迟到其子类。 适用性 当一个类不知道它所必须创建的对象的类的时候。 当一个类希望由它的子类来指定它所创建的对象的时候。 当类将创建对象的职责委托给多个帮助子类中的某一个，并且你希望将哪一个帮助子类是代理者这一信息局部化的时候。 Java实现 public interface Pig{ public void run(); } public interface PigFactory{ public Pig getPig(); } public class RedPig{ public void run(){ System.out.println(&quot;RedPig run&quot;); } } public class RedPigFactory implements PigFactory{ public Pig getPig(){ return new RedPig(); } } public class GreenPig{ public void... -->
  </p>
  <footer class="post-meta">
    <time datetime="2015-02-04">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2015/02/04/factory.html#disqus_thread" data-disqus-identifier="/2015/02/04/factory">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2015/02/03/singleton.html" title="Permalink to Singleton&JMM">Singleton&JMM</a>
    </h1>
  </header>
  <p>
      <h1>概述</h1>
<p>设计模式是什么？如果要我现在来回答，那我的答案是：<strong>设计模式是对于语言本身缺陷的一种补充！</strong></p>
<p>本系列文章通过对各个设计模式在Java与Clojure之间的实现比较来说明这一点！</p>
<p>关于Clojure相关内容，可以查看<a href="/tag/#clojure">这里</a>!</p>
<p>其实使用Clojure来实现设计模式并不合适！因为Clojure是函数式语言，而设计模式是针对面向对象语言的。但是Clojure能提供近似的解决方案或者根本不需要此设计模式，且Clojure的解决方案更简单！简单到都不好意思叫做模式！</p>
<p>当然我也不是要黑Java，毕竟还要靠Java吃饭！Java作为工业化标准开发还是很不错的，只是表现力不足，模板代码较多而已！但是足够简单，易标准化。这就够了！</p>
<p>废话不多说，开始第一个设计模式！单例模式！</p>
<h1>意图</h1>
<p>保证一个类仅有一个实例，并提供一个访问它的全局访问点。</p>
<p><img src="/assets/designpattern/singleton.jpg" alt=""></p>
<h1>适用性</h1>
<ul>
<li>当类只能有一个实例而且客户可以从一个众所周知的访问点访问它时。</li>
<li>当这个唯一实例应该是通过子类化可扩展的，并且客户应该无需更改代码就能使用一个扩展的实例时。</li>
</ul>
<h1>Java实现</h1>
<p>懒汉式：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span><span class="o">{</span>
       <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">(){}</span>
       <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">(){</span>
           <span class="k">if</span><span class="o">(</span><span class="n">single</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
                <span class="n">single</span><span class="o">=</span><span class="k">new</span> <span class="nf">Singleton</span><span class="o">();</span>
           <span class="o">}</span>
           <span class="k">return</span> <span class="n">single</span><span class="o">;</span>
       <span class="o">}</span>
      <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">single</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>
      <!-- 概述 设计模式是什么？如果要我现在来回答，那我的答案是：设计模式是对于语言本身缺陷的一种补充！ 本系列文章通过对各个设计模式在Java与Clojure之间的实现比较来说明这一点！ 关于Clojure相关内容，可以查看这里! 其实使用Clojure来实现设计模式并不合适！因为Clojure是函数式语言，而设计模式是针对面向对象语言的。但是Clojure能提供近似的解决方案或者根本不需要此设计模式，且Clojure的解决方案更简单！简单到都不好意思叫做模式！ 当然我也不是要黑Java，毕竟还要靠Java吃饭！Java作为工业化标准开发还是很不错的，只是表现力不足，模板代码较多而已！但是足够简单，易标准化。这就够了！ 废话不多说，开始第一个设计模式！单例模式！ 意图 保证一个类仅有一个实例，并提供一个访问它的全局访问点。 适用性 当类只能有一个实例而且客户可以从一个众所周知的访问点访问它时。 当这个唯一实例应该是通过子类化可扩展的，并且客户应该无需更改代码就能使用一个扩展的实例时。 Java实现 懒汉式： public class Singleton{ private Singleton(){} public synchronized static Singleton getInstance(){ if(single==null){ single=new Singleton(); } return single; } private static Singleton single; } 饿汉式： public class Singleton{ private Singleton(){} public static Singleton getInstance(){ return single; } private... -->
  </p>
  <footer class="post-meta">
    <time datetime="2015-02-03">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2015/02/03/singleton.html#disqus_thread" data-disqus-identifier="/2015/02/03/singleton">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2014/11/28/pigtheme.html" title="Permalink to LightTable Theme">LightTable Theme</a>
    </h1>
  </header>
  <p>
      <h1>LightTable Theme</h1>
<ul>
<li>自用LightTable代码高亮配色,修改自solarized!</li>
<li>从LightTable插件管理搜索pigtheme下载即可!</li>
<li>主题修改为pigtheme生效</li>
</ul>
<p><img src="/assets/lighttable/shot.jpg" alt=""></p>
      <!-- LightTable Theme
自用LightTable代码高亮配色,修改自solarized!
从LightTable插件管理搜索pigtheme下载即可!
主题修改为pigtheme生效
 -->
  </p>
  <footer class="post-meta">
    <time datetime="2014-11-28">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2014/11/28/pigtheme.html#disqus_thread" data-disqus-identifier="/2014/11/28/pigtheme">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2014/10/02/clojure_spels.html" title="Permalink to Clojure进阶:使用Clojure编写文字冒险游戏">Clojure进阶:使用Clojure编写文字冒险游戏</a>
    </h1>
  </header>
  <p>
      <p>本文翻译自:<a href="http://www.lisperati.com/clojure-spels/casting.html">Casting SPELs in Clojure</a></p>
<p><img src="/assets/clojure/cs_01.jpg" alt=""></p>
<h1>准备</h1>
<p>任何学过Lisp的人都会说Lisp和其它语言有很大的不同.它有很多不可思议的地方.本文将告诉你它有哪些独特之处!</p>
<p>本文适用于Clojure,它是一个运行在JVM上的Lisp方言.Clojure的API和语法和
Common Lisp很类似,但是还是有足够多的区别,需要单独为其写个教程.</p>
<p>在大部分情况下,我们会说Lisp而不是Clojure,因为大部分的概念在Lisp中是通用的.我们会指出Clojure特有的内容.</p>
<p><img src="/assets/clojure/cs_02.jpg" alt=""></p>
<p>Clojure是运行在JVM之上的,所以你需要先安装JVM.如果你是MAC机,那么Java已经被安装过了.如果是Linux或者Windows系统,你需要到<a href="http://java.sun.com/javase/downloads/index.jsp">Oracle Java官网</a>下载对应版本的Java.</p>
<p>而Clojure,你可以从它的<a href="http://clojure.org/">官网</a>获得最新版本.下载完成后,你只需要解压缩,打开命令行,切换到解压缩目录,输入:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">java -jar clojure.jar
</code></pre></div>
<p>如果没有问题,那么你将会看到Clojure输出提示</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">Clojure 1.6.0
<span class="nv">user</span><span class="o">=</span>&gt;
</code></pre></div>
<p>教程中有很多Clojure代码片段,类似下面的样子:</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="o">&#39;</span><span class="p">(</span><span class="nf">these</span> <span class="nv">kinds</span> <span class="nv">of</span> <span class="nv">boxes</span><span class="p">)</span>
</code></pre></div>
<p>你只需要将这些代码片段拷贝到Clojure REPL中运行就可以了!当你学习完此教程,你将会有一个你自己的文字冒险游戏了!</p>
      <!-- 本文翻译自:Casting SPELs in Clojure 准备 任何学过Lisp的人都会说Lisp和其它语言有很大的不同.它有很多不可思议的地方.本文将告诉你它有哪些独特之处! 本文适用于Clojure,它是一个运行在JVM上的Lisp方言.Clojure的API和语法和 Common Lisp很类似,但是还是有足够多的区别,需要单独为其写个教程. 在大部分情况下,我们会说Lisp而不是Clojure,因为大部分的概念在Lisp中是通用的.我们会指出Clojure特有的内容. Clojure是运行在JVM之上的,所以你需要先安装JVM.如果你是MAC机,那么Java已经被安装过了.如果是Linux或者Windows系统,你需要到Oracle Java官网下载对应版本的Java. 而Clojure,你可以从它的官网获得最新版本.下载完成后,你只需要解压缩,打开命令行,切换到解压缩目录,输入: java -jar clojure.jar 如果没有问题,那么你将会看到Clojure输出提示 Clojure 1.6.0 user=&gt; 教程中有很多Clojure代码片段,类似下面的样子: &#39;(these kinds of boxes) 你只需要将这些代码片段拷贝到Clojure REPL中运行就可以了!当你学习完此教程,你将会有一个你自己的文字冒险游戏了! 语法和语义 每一个编程语言是由语法和语义组成的.语法是组成你的程序的骨架,你必须要遵循它们,这样编译器才能知道你的程序里什么是什么,比如说什么是函数,什么是变量,等等! 而语义是个比较&quot;随便&quot;的东西,例如你的程序里有哪些不同的命令,或者在程序的哪个部分能访问到哪些变量!这里Lisp比较特别的地方就是,Lisp的语法比其它任何语言都要简单. 首先,Lisp语法规定,所有传递给Lisp编译器的文本需要是个list,当然这个list可以无限嵌套.每个list都必须使用括号包裹. 另外,Lisp编译器使用两种模式来读取你的代码:代码模式和数据模式.当你在数据模式下,你可以将任何东西塞到你的list中.但是在代码模式下,你的list需要是叫做form的特殊类型. form也是个list,不过它的第一个符号被lisp编译器特殊对待了---一般被当做函数的名字.在这种情况下,编译器会将list中的其它元素作为函数参数传递给这个函数.默认情况下,编译器运行在代码模式下,除非你特意告诉它进入数据模式. 为我们的游戏世界定义数据 为了进一步的学习form,让我们来创建一些form,来定义我们游戏世界里的数据.首先,我们的游戏有一些对象,玩家可以使用他们--让我们来定义吧: (def objects &#39;(whiskey-bottle bucket frog chain)) 让我们来看看这行代码是什么意思:Lisp编译器总是使用代码模式来读取内容,所以第一个符号(这里是def),肯定是个命令. 在这里,它的作用就是给某个变量设值:这里变量就是objects,而值是一个包含四个对象的list.这个list是数据(我们可不想编译器去调用一个叫做whiskey-bottle的函数),所以在读取这个list时 我们需要将其设值为数据模式.在list前面的哪个单引号就是干这个的: def命令就是用来设值的(如果你学过Common Lisp,你应该会知道它和CommonLisp中的setf命令等价,但是Clojure中没有setf命令) 现在我们在游戏里定义了一些对象,现在让我们来定义一下游戏地图.下面是我们的游戏世界: 在这个简单的游戏里,只有三个地点:一个房子,它包含起居室,阁楼和花园.让我们来定义一个新变量,叫做game-map来描述这个游戏地图: (def game-map... -->
  </p>
  <footer class="post-meta">
    <time datetime="2014-10-02">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2014/10/02/clojure_spels.html#disqus_thread" data-disqus-identifier="/2014/10/02/clojure_spels">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2014/10/01/dsl.html" title="Permalink to Clojure进阶:使用Clojure构建DSL">Clojure进阶:使用Clojure构建DSL</a>
    </h1>
  </header>
  <p>
      <p>翻译自<a href="http://clojure-doc.org/articles/tutorials/growing_a_dsl_with_clojure.html">Growing a DSL with Clojure</a>.主要讲解如何使用</p>
<p>Clojure来创建一个简单的DSL.包括如下知识点:</p>
<ul>
<li>  多重方法(Multimethods)</li>
<li>  继承(Hierarchies)</li>
<li>  元编程及&quot;代码即数据&quot;哲学(Metaprogramming and the &quot;Code as data&quot; philosophy)</li>
</ul>
<p>Lisp及其方言(比如Clojure)可以很方便的创建DSL并能和源语言无缝的集成.</p>
<p>Lisp界鼓吹的优点中，提到最多的可能就是:数据即代码，代码即数据了。在此文中我们将依此特性来定义一个DSL。</p>
<p>我们将渐进式的开发这个DSL，不断的加入Clojure的特性和抽象。</p>
<h1>任务</h1>
<p>我们的目标是定义一个可以生成各种脚本语言的DSL.而且DSL代码看起来和普通的Clojure代码没有区别。</p>
<p>例如,我们使用Clojure形式(form)来生成Bash脚本或者Windows批处理脚本:</p>
<p>输入(Clojure形式):</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">println </span><span class="s">&quot;a&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">println </span><span class="s">&quot;b&quot;</span><span class="p">))</span>
</code></pre></div>
<p>输出(Bash脚本):</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="k">if</span> <span class="o">[</span> <span class="m">1</span> -eq <span class="m">2</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;a&quot;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;b&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<p>输出(Windows批处理):</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">IF <span class="nv">1</span><span class="o">==</span><span class="m">2</span> <span class="o">(</span>
  ECHO a
<span class="o">)</span> ELSE <span class="o">(</span>
  ECHO b
<span class="o">)</span>
</code></pre></div>
      <!-- 翻译自Growing a DSL with Clojure.主要讲解如何使用 Clojure来创建一个简单的DSL.包括如下知识点: 多重方法(Multimethods) 继承(Hierarchies) 元编程及&quot;代码即数据&quot;哲学(Metaprogramming and the &quot;Code as data&quot; philosophy) Lisp及其方言(比如Clojure)可以很方便的创建DSL并能和源语言无缝的集成. Lisp界鼓吹的优点中，提到最多的可能就是:数据即代码，代码即数据了。在此文中我们将依此特性来定义一个DSL。 我们将渐进式的开发这个DSL，不断的加入Clojure的特性和抽象。 任务 我们的目标是定义一个可以生成各种脚本语言的DSL.而且DSL代码看起来和普通的Clojure代码没有区别。 例如,我们使用Clojure形式(form)来生成Bash脚本或者Windows批处理脚本: 输入(Clojure形式): (if (= 1 2) (println &quot;a&quot;) (println &quot;b&quot;)) 输出(Bash脚本): if [ 1 -eq 2 ]; then echo &quot;a&quot; else echo &quot;b&quot; fi 输出(Windows批处理): IF 1==2 ( ECHO a... -->
  </p>
  <footer class="post-meta">
    <time datetime="2014-10-01">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2014/10/01/dsl.html#disqus_thread" data-disqus-identifier="/2014/10/01/dsl">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2014/08/29/namespace.html" title="Permalink to Clojure教程-命名空间">Clojure教程-命名空间</a>
    </h1>
  </header>
  <p>
      <h1>版本</h1>
<p>本文翻译自<a href="http://clojure-doc.org/articles/language/namespaces.html">Clojure Namespaces and Vars</a></p>
<p>本文涵盖如下内容:</p>
<ul>
<li>Clojure命名空间和var概述</li>
<li>如何定义命名空间</li>
<li>如何使用其它命名空间里的函数</li>
<li>require,refer和use</li>
<li>常见错误和典型错误,以及导致这些错误的原因</li>
<li>命名空间和代码管理</li>
</ul>
<p>版权:</p>
<p>This work is licensed under a Creative Commons Attribution 3.0 Unported License (including images &amp; stylesheets). The source is available on Github.</p>
<p>涵盖Clojure版本:Clojure 1.5</p>
<h1>概述</h1>
<p>Clojure的函数通过命名空间来组织.Clojure命名空间和Java的包或者Python的模块很类似.命名空间实际上就是个map,将名字映射到了var上.在大部分情况下,这些var持有这些函数.</p>
<h1>定义一个命名空间</h1>
<p>一般情况下使用clojure.core/ns宏来定义命名空间.最基本的形式下,它将名字作为符号.</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">ns </span><span class="nv">superlib.core</span><span class="p">)</span>
</code></pre></div>
<p>命名空间可以由点号切割的好多段组成</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">ns </span><span class="nv">megacorp.service.core</span><span class="p">)</span>
</code></pre></div>
<p>需要注意的是,请尽量避免使用单段的命名空间,以免与其它开发人员的命名空间相冲突.如果库或者应用属于某个组织,那么建议以如下形式作为命名空间.[组织名称].[包名|应用名].[函数组名]
例如</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">ns </span><span class="nv">clojurewerkz.welle.kv</span><span class="p">)</span>
<span class="p">(</span><span class="kd">ns </span><span class="nv">megacorp.search.indexer.core</span><span class="p">)</span>
</code></pre></div>
      <!-- 版本 本文翻译自Clojure Namespaces and Vars 本文涵盖如下内容: Clojure命名空间和var概述 如何定义命名空间 如何使用其它命名空间里的函数 require,refer和use 常见错误和典型错误,以及导致这些错误的原因 命名空间和代码管理 版权: This work is licensed under a Creative Commons Attribution 3.0 Unported License (including images &amp; stylesheets). The source is available on Github. 涵盖Clojure版本:Clojure 1.5 概述 Clojure的函数通过命名空间来组织.Clojure命名空间和Java的包或者Python的模块很类似.命名空间实际上就是个map,将名字映射到了var上.在大部分情况下,这些var持有这些函数. 定义一个命名空间 一般情况下使用clojure.core/ns宏来定义命名空间.最基本的形式下,它将名字作为符号. (ns superlib.core) 命名空间可以由点号切割的好多段组成 (ns megacorp.service.core) 需要注意的是,请尽量避免使用单段的命名空间,以免与其它开发人员的命名空间相冲突.如果库或者应用属于某个组织,那么建议以如下形式作为命名空间.[组织名称].[包名|应用名].[函数组名] 例如 (ns clojurewerkz.welle.kv)... -->
  </p>
  <footer class="post-meta">
    <time datetime="2014-08-29">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2014/08/29/namespace.html#disqus_thread" data-disqus-identifier="/2014/08/29/namespace">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<nav class="pagination" role="pagination">
    <a class="older-posts" href="/page/9/" title="Articles old">&laquo; Old</a>
  <span class="page-number">Page 8 of 14</span>
      <a class="newer-posts" href="/page/7/" title="Articles new">New &raquo;</a>
</nav>
    </main>
<footer class="footer">
  <div class="container">
    <ul class="icons">
      <li>
        <a href="http://github.com/ivaneye" class="icon-github" target="_blank">
          <i class="fa fa-github"></i>
        </a>
      </li>
      <li>
        <a href="http://facebook.com/ivan.pig.73" class="icon-facebook" target="_blank">
          <i class="fa fa-facebook"></i>
        </a>
      </li>
      <li>
        <a href="http://twitter.com/ivanpig" class="icon-twitter" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
      <!--<li>
        <a href="" class="icon-instagram" target="_blank">
          <i class="fa fa-instagram"></i>
        </a>
    </li>-->
      <li>
        <a href="https://cn.linkedin.com/in/ivan-wang-a6259b59" class="icon-linkedin" target="_blank">
          <i class="fa fa-linkedin"></i>
        </a>
      </li>
    </ul>
    <p>
      <q>I have no special talent. I am only passionately curious.</q>
      <small>– Albert Einstein</small>
    </p>
    <small class="clearfix">
      Made with <a href="http://jekyllrb.com" target="_blank">Jekyll</a> • <a href="" target="_blank">Open source <i class="fa fa-heart"></i></a>
    </small>
  </div>
</footer>
<a class="scroll-up fa fa-chevron-up bounce" href="#" data-position="0"></a>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<div id="modalSearch" class="modal">
  <div class="modal__overlay"></div>
  <div class="modal__content">
    <a href="#!" class="modal-close" data-modal-close>&times;</a>
    <div class="search-container">
      <input type="text" id="search-input" placeholder="Search in 97 articles">
      <ul id="results-container"></ul>
    </div>
  </div>
</div>
    <script src="/assets/main-52d417e8a6ff9f5b168386d37c96338a.js"></script>
  </body>
</html>
