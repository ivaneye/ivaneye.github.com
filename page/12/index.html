<!DOCTYPE html>
<html class="no-js" lang="pt-br">
  <head>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="alternate" href="http://ivaneye.com" hreflang="pt-BR">
<link href="http://gmpg.org/xfn/11" rel="profile">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#005344">
<title>wangyifan | 懒是一种态度 - Página 12</title>
<meta name="google-site-verification" content="zS1dSn20XtA4FJYEOQLXqI0boxZdMnJ2g3beje-cl20">
<meta name="description" content="Architecturer - Página 12 ">
<meta name="keywords" content="blog,java,clojure,golang,go,architectures">
<!-- Social: Facebook / Open Graph -->
<meta property="og:url" content="http://ivaneye.com/page/12/">
<meta property="og:title" content="wangyifan | 懒是一种态度 - Página 12">
<meta property="og:description" content="Architecturer - Página 12 ">
<meta property="og:site_name" content="wangyifan">
<meta property="og:locale" content="pt_BR">
<meta property="og:type" content="website">
<meta property="og:author" content="http://facebook.com/ivan.pig.73">
<meta property="og:image" content="http://ivaneye.com">
<!-- Social: Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@nandomoreirame">
<meta name="twitter:domain" content="http://ivaneye.com">
<meta name="twitter:title" content="wangyifan | 懒是一种态度 - Página 12">
<meta name="twitter:description" content="Architecturer - Página 12 ">
<meta name="twitter:image:src" content="http://ivaneye.com">
<!-- Favicons -->
<link rel="apple-touch-icon" sizes="114x114" href="http://ivaneye.com/assets/ico/apple-touch-icon-114-516f4e19976b9e4dbb77ad9b576831fe.png">
<link rel="apple-touch-icon" sizes="72x72" href="http://ivaneye.com/assets/ico/apple-touch-icon-72-5409b2df229305703caf583d86c845ab.png">
<link rel="apple-touch-icon" href="http://ivaneye.com/assets/ico/apple-touch-icon-57-aa873e019cf659e0d4e6a0b5bb9f379d.png">
<link rel="shortcut icon" href="http://ivaneye.com/assets/ico/favicon-b5ecc36e2f9d7bd353ee91851eb81a94.png">
<!-- rel prev and next -->
  <link rel="prev" href="http://ivaneye.com/page/11">
  <link rel="next" href="http://ivaneye.com/page/13">
<!-- Canonical link tag -->
<link rel="canonical" href="http://ivaneye.com/page/12/">
<link rel="alternate" type="application/rss+xml" title="wangyifan" href="http://ivaneye.com/feed.xml">
<link rel="stylesheet" href="/assets/main-2c2e59f696eac4fed329aacc581a5ade.css">
<script src="/assets/modernizr-custom-cb807611a3e262b2eac59444cbab74d6.js" data-cfasync="false"></script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Website",
  "publisher": "ivaneye.com",
  "url": "http://ivaneye.com/",
  "description": "懒是一种态度"
}
</script>
<script type="text/javascript">
  var disqus_shortname = '',
      baseurl          = '';
</script>
<script type="text/javascript">
// var _gaq = _gaq || [];
// _gaq.push(['_setAccount', '']);
// _gaq.push(['_trackPageview']);
//
// (function() {
//   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
//   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
//   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
// })();
</script>
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ad7ba5b03bf52a9b727792c1675ffc6a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </head>
  <body class="page-template home">
    <header class="header alt">
  <div class="container">
    <h1><a href="/"><strong>ivaneye</strong>.com</a></h1>
    <nav class="navbar">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="#!" data-modal="modalSearch"><i class="fa fa-search"></i></a></li>
        <li><a href="/feed.xml" target="_blank"><i class="fa fa-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>
      <section class="banner">
  <img src="/img/head.jpg" alt="author thumb" class="dot animated hinge fadeInDown">
  <h2 class="animated hinge fadeInDown" itemscope itemtype="http://schema.org/Person">懒是一种态度</h2>
  <nav class="actions">
    <a href="/about" class="button ghost">About</a>
    <a href="/type" class="button ghost">Categories</a>
    <a href="/tag" class="button ghost">Tags</a>
</nav>
</section>
    <main class="wrapper container" itemprop="mainContentOfPage" itemscope="itemscope" itemtype="http://schema.org/Blog">
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/09/18/defining_routes.html" title="Permalink to Luminus手册-路由定义">Luminus手册-路由定义</a>
    </h1>
  </header>
  <p>
      <h1>Defining routes</h1>
<p>Luminus使用Compojure来定义应用的路由.路由由HTTP请求方法和接受它的URI，
参数和以及相应的处理程序组成。Compojure定义了所有标准HTTP请求的路由，
比如ANY,DELETE,GET,HEAD,OPTIONS,PATCH,POST和PUT。</p>
<p>例如：如果我们想定义一个应用，它指向/，/返回&quot;Hello World!&quot;字符串。我们
可以这样写:</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defroutes</span> <span class="nv">app-routes</span>
  <span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;/&quot;</span> <span class="p">[]</span> <span class="s">&quot;Hello World!&quot;</span><span class="p">))</span>
</code></pre></div>
<p>如果你想构建一个路由来响应POST请求，我们可以这样写：</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">POST</span> <span class="s">&quot;/hello&quot;</span> <span class="p">[</span><span class="nv">id</span><span class="p">]</span> <span class="p">(</span><span class="nb">str </span><span class="s">&quot;Welcome &quot;</span> <span class="nv">id</span><span class="p">))</span>
</code></pre></div>
<p>有些路由需要访问请求的map，我们只需要在路由上定义第二个参数就可以了。</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;/foo&quot;</span> <span class="nv">request</span> <span class="p">(</span><span class="nf">interpose</span> <span class="s">&quot;, &quot;</span> <span class="p">(</span><span class="nb">keys </span><span class="nv">request</span><span class="p">)))</span>
</code></pre></div>
<p>上面的路由读出请求map中所有的key并展示出来。结果如下:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">:ssl-client-cert, :remote-addr, :scheme, :query-params, :session, :form-params,
:multipart-params, :request-method, :query-string, :route-params, :content-type,
:cookies, :uri, :server-name, :params, :headers, :content-length, :server-port,
:character-encoding, :body, :flash
</code></pre></div>
<p>Compojure还提供了一些有用的函数来处理请求map和表单参数。例如，在
guestbook应用的例子中，我们看到了如下的路由定义:</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">POST</span> <span class="s">&quot;/&quot;</span>  <span class="p">[</span><span class="nb">name </span><span class="nv">message</span><span class="p">]</span> <span class="p">(</span><span class="nf">save-message</span> <span class="nb">name </span><span class="nv">message</span><span class="p">))</span>
</code></pre></div>
      <!-- Defining routes Luminus使用Compojure来定义应用的路由.路由由HTTP请求方法和接受它的URI， 参数和以及相应的处理程序组成。Compojure定义了所有标准HTTP请求的路由， 比如ANY,DELETE,GET,HEAD,OPTIONS,PATCH,POST和PUT。 例如：如果我们想定义一个应用，它指向/，/返回&quot;Hello World!&quot;字符串。我们 可以这样写: (defroutes app-routes (GET &quot;/&quot; [] &quot;Hello World!&quot;)) 如果你想构建一个路由来响应POST请求，我们可以这样写： (POST &quot;/hello&quot; [id] (str &quot;Welcome &quot; id)) 有些路由需要访问请求的map，我们只需要在路由上定义第二个参数就可以了。 (GET &quot;/foo&quot; request (interpose &quot;, &quot; (keys request))) 上面的路由读出请求map中所有的key并展示出来。结果如下: :ssl-client-cert, :remote-addr, :scheme, :query-params, :session, :form-params, :multipart-params, :request-method, :query-string, :route-params, :content-type, :cookies, :uri, :server-name, :params, :headers, :content-length,... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-09-18">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/09/18/defining_routes.html#disqus_thread" data-disqus-identifier="/2013/09/18/defining_routes">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/09/17/clojurescript.html" title="Permalink to Luminus手册-ClojureScript">Luminus手册-ClojureScript</a>
    </h1>
  </header>
  <p>
      <h1>Summary</h1>
<p>ClojureScript可以作为JavaScript在客户端的替代品。使用ClojureScript可以
有如下有点：</p>
<ul>
<li>  在客户端和服务端使用相同的语言</li>
<li>  在前后端共用相同的代码</li>
<li>  简介流畅的语言</li>
<li>  使用Leiningen管理依赖关系</li>
<li>  不可变数据</li>
<li>  功能强大的库</li>
<li>  Adding ClojureScript Support</li>
</ul>
<p>最简单的添加ClojureScript支持的方法就是在创建新项目的时候添加+cljs选项
。不过在现有的项目中添加ClojureScript也同样的简单。你只需要在
project.clj文件中添加如下内容即可。</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:plugins</span> <span class="p">[</span><span class="nv">...</span>
          <span class="p">[</span><span class="nv">lein-cljsbuild</span> <span class="s">&quot;0.3.0&quot;</span><span class="p">]]</span>
<span class="ss">:hooks</span> <span class="p">[</span><span class="nv">...</span> <span class="nv">leiningen.cljsbuild</span><span class="p">]</span>
<span class="ss">:cljsbuild</span>
<span class="p">{</span><span class="ss">:builds</span> <span class="p">[{</span><span class="ss">:source-paths</span> <span class="p">[</span><span class="s">&quot;src-cljs&quot;</span><span class="p">]</span>
           <span class="ss">:compiler</span> <span class="p">{</span><span class="ss">:output-to</span> <span class="s">&quot;resources/public/js/site.js&quot;</span>
                      <span class="ss">:optimizations</span> <span class="ss">:advanced</span><span class="p">}}]}</span>
</code></pre></div>
<p>上面的代码将在项目中添加cljsbuild插件和一个钩子。
所有的命名空间需要在项目根目录下的src-cljs目录内。注意，ClojureScript
文件需要以.cljs结尾。如果文件以.clj结尾，它也会被编译，不过它就无法访
问js命名空间。</p>
<h1>Using Libraries</h1>
<p>使用ClojureScript的一个好处就是你可以使用Leiningen来管理客户端的依赖。
ClojureScript库和其他库一样都配置在project.clj文件中。</p>
      <!-- Summary ClojureScript可以作为JavaScript在客户端的替代品。使用ClojureScript可以 有如下有点： 在客户端和服务端使用相同的语言 在前后端共用相同的代码 简介流畅的语言 使用Leiningen管理依赖关系 不可变数据 功能强大的库 Adding ClojureScript Support 最简单的添加ClojureScript支持的方法就是在创建新项目的时候添加+cljs选项 。不过在现有的项目中添加ClojureScript也同样的简单。你只需要在 project.clj文件中添加如下内容即可。 :plugins [... [lein-cljsbuild &quot;0.3.0&quot;]] :hooks [... leiningen.cljsbuild] :cljsbuild {:builds [{:source-paths [&quot;src-cljs&quot;] :compiler {:output-to &quot;resources/public/js/site.js&quot; :optimizations :advanced}}]} 上面的代码将在项目中添加cljsbuild插件和一个钩子。 所有的命名空间需要在项目根目录下的src-cljs目录内。注意，ClojureScript 文件需要以.cljs结尾。如果文件以.clj结尾，它也会被编译，不过它就无法访 问js命名空间。 Using Libraries 使用ClojureScript的一个好处就是你可以使用Leiningen来管理客户端的依赖。 ClojureScript库和其他库一样都配置在project.clj文件中。 Running the Compiler 开发ClojureScript应用最简单的方法就是自动运行编译器。这样，你的任何修 改都会立即生效。要开启自动编译，只需要输入如下命令: lein cljsbuild auto 也可以使用一次编译的方式。这将会将所有的js编译到一个js文件中。 lein cljsbuild... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-09-17">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/09/17/clojurescript.html#disqus_thread" data-disqus-identifier="/2013/09/17/clojurescript">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/09/16/html_templating.html" title="Permalink to Luminus手册-HTML模板">Luminus手册-HTML模板</a>
    </h1>
  </header>
  <p>
      <h1>Templating Options</h1>
<p>Luminus包含了Hiccup的依赖.如果你熟悉Hiccup那么可以直接使用。
Hiccup使用clojure数据结构来描述模板。并且,Hiccup提供了丰富的API来生成
HTML元素。 Luminus也包含了Selmer，Selmer使用了普通的文本文件来描述模板。
你可以使用它们中的任何一个模板，或者混合使用.抑或你可以选择任何你喜欢
的模板框架，比如Enlive或者Stencil。</p>
<h1>HTML Templating Using Selmer</h1>
<p>Selmer是一个类似Django模板的框架。如果你熟悉Django或者其他类似的模板语
言，那么你会感觉很熟悉.</p>
<h2>Creating Templates</h2>
<p>Selmer将展示逻辑和程序逻辑分开。实际上Selmer模板就是包含了动态元素的
HTML文件。来看下面的例子。</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span>My First Template<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h2&gt;</span>Hello { {name}}<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>模板使用了一个包含了键值对的上下文环境。上下文环境中包含了我们
需要在运行时获得的变量的值。上面的代码中，我们从上下文环境中获取名字为
name的变量的值。
有两个函数可以渲染模板,render和render-file。render函数接收一个字符串来
渲染模板。而render-file接收一个字符串作为路径来渲染模板。
如果我们将上面的模板定义保存到index.html文件中。我们就可以这样来渲染:</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">ns </span><span class="nv">example.routes.home</span>
  <span class="p">(</span><span class="ss">:use</span> <span class="p">[</span><span class="nv">selmer.parser</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">render-file</span><span class="p">]]))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nb">index </span><span class="p">[</span><span class="nv">request</span><span class="p">]</span>
  <span class="p">(</span><span class="nf">render-file</span> <span class="s">&quot;example/views/templates/index.html&quot;</span>
               <span class="p">{</span><span class="ss">:name</span> <span class="s">&quot;John&quot;</span><span class="p">}))</span>
</code></pre></div>
      <!-- Templating Options Luminus包含了Hiccup的依赖.如果你熟悉Hiccup那么可以直接使用。 Hiccup使用clojure数据结构来描述模板。并且,Hiccup提供了丰富的API来生成 HTML元素。 Luminus也包含了Selmer，Selmer使用了普通的文本文件来描述模板。 你可以使用它们中的任何一个模板，或者混合使用.抑或你可以选择任何你喜欢 的模板框架，比如Enlive或者Stencil。 HTML Templating Using Selmer Selmer是一个类似Django模板的框架。如果你熟悉Django或者其他类似的模板语 言，那么你会感觉很熟悉. Creating Templates Selmer将展示逻辑和程序逻辑分开。实际上Selmer模板就是包含了动态元素的 HTML文件。来看下面的例子。 &lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt; &lt;title&gt;My First Template&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt;Hello { {name}}&lt;/h2&gt; &lt;/body&gt; &lt;/html&gt; 模板使用了一个包含了键值对的上下文环境。上下文环境中包含了我们 需要在运行时获得的变量的值。上面的代码中，我们从上下文环境中获取名字为 name的变量的值。 有两个函数可以渲染模板,render和render-file。render函数接收一个字符串来 渲染模板。而render-file接收一个字符串作为路径来渲染模板。 如果我们将上面的模板定义保存到index.html文件中。我们就可以这样来渲染: (ns example.routes.home (:use [selmer.parser :only [render-file]])) (defn index [request] (render-file... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-09-16">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/09/16/html_templating.html#disqus_thread" data-disqus-identifier="/2013/09/16/html_templating">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/09/15/application_profile.html" title="Permalink to Luminus手册-应用配置">Luminus手册-应用配置</a>
    </h1>
  </header>
  <p>
      <h1>Profiles</h1>
<p>使用lein new luminus myapp命令会创建一个新的luminus应用，它使用的是默认的配置。如果你想使用其他的特性，你可以修改相应的配置参数。</p>
<p>下面就是各个配置：</p>
<ul>
<li>  +cljs - 添加ClojureScript支持</li>
<li>  +cucumber - 提供通过clj-webdriver配置cucumber</li>
<li>  +h2 - 添加models.db并提供H2数据库依赖</li>
<li>  +postgres - 添加models.db并提供PostreSQL数据库依赖</li>
<li>  +mysql - 添加models.db并提供mysql依赖</li>
<li>  +mongodb - 添加db.core并提供MongoDB依赖</li>
<li>  +site - 创建一个包含注册和验证框架的应用。使用bootstrap和h2</li>
<li>  +dailycred -
添加dailycred支持，当和+site参数配合使用时，它使用dailycred作为验证框架</li>
<li>  +http-kit - 添加HTTP Kit支持</li>
</ul>
<p>要添加配置，只需要简单的添加到你的应用的名字后面，比如:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">lein new luminus myapp +cljs
</code></pre></div>
<p>可以多个参数一起使用:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">lein new luminus myapp +site +postgres
</code></pre></div>
<p>如果两个参数会生成相同的文件，则后面参数所生成的文件会覆盖前面参数所生
成的文件。</p>
      <!-- Profiles 使用lein new luminus myapp命令会创建一个新的luminus应用，它使用的是默认的配置。如果你想使用其他的特性，你可以修改相应的配置参数。 下面就是各个配置： +cljs - 添加ClojureScript支持 +cucumber - 提供通过clj-webdriver配置cucumber +h2 - 添加models.db并提供H2数据库依赖 +postgres - 添加models.db并提供PostreSQL数据库依赖 +mysql - 添加models.db并提供mysql依赖 +mongodb - 添加db.core并提供MongoDB依赖 +site - 创建一个包含注册和验证框架的应用。使用bootstrap和h2 +dailycred - 添加dailycred支持，当和+site参数配合使用时，它使用dailycred作为验证框架 +http-kit - 添加HTTP Kit支持 要添加配置，只需要简单的添加到你的应用的名字后面，比如: lein new luminus myapp +cljs 可以多个参数一起使用: lein new luminus myapp +site +postgres 如果两个参数会生成相同的文件，则后面参数所生成的文件会覆盖前面参数所生 成的文件。 HTTP... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-09-15">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/09/15/application_profile.html#disqus_thread" data-disqus-identifier="/2013/09/15/application_profile">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/09/14/your_first_application.html" title="Permalink to Luminus手册-第一个应用">Luminus手册-第一个应用</a>
    </h1>
  </header>
  <p>
      <h1>Guestbook应用</h1>
<p>此文使用Luminus构建一个简单的guestbook应用。guestbook可以保存信息，展示信息。此应用将涉及到简单的HTML模板，数据库访问和项目结构.</p>
<h1>安装Leiningen</h1>
<p>首先你需要安装Leiningen才能使用Luminus。安装Leiningen非常的简单:</p>
<ul>
<li>  下载脚本</li>
<li>  将其设置为可执行权限(chmod +x lein)</li>
<li>  将脚本放到你的PATH下面</li>
<li>  运行lein self-install ，然后等待安装结束</li>
</ul>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">wget https://raw.github.com/technomancy/leiningen/stable/bin/lein
chmod +x lein
mv lein ~/bin
lein self-install
</code></pre></div>
<h1>创建一个新应用</h1>
<p>安装完Leiningen后，你就可以在命令行中输入如下的命令</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">lein new luminus guestbook +h2
<span class="nb">cd </span>guestbook
</code></pre></div>
<p>上面的命令将会创建一个使用了H2嵌入式数据库的模板项目。</p>
      <!-- Guestbook应用 此文使用Luminus构建一个简单的guestbook应用。guestbook可以保存信息，展示信息。此应用将涉及到简单的HTML模板，数据库访问和项目结构. 安装Leiningen 首先你需要安装Leiningen才能使用Luminus。安装Leiningen非常的简单: 下载脚本 将其设置为可执行权限(chmod +x lein) 将脚本放到你的PATH下面 运行lein self-install ，然后等待安装结束 wget https://raw.github.com/technomancy/leiningen/stable/bin/lein chmod +x lein mv lein ~/bin lein self-install 创建一个新应用 安装完Leiningen后，你就可以在命令行中输入如下的命令 lein new luminus guestbook +h2 cd guestbook 上面的命令将会创建一个使用了H2嵌入式数据库的模板项目。 剖析Luminus应用 新创建的项目的目录结构如下 guestbook |____.gitignore |____Procfile |____project.clj |____README.md | |____src | |____guestbook | |____handler.clj | |____layout.clj | |____middleware.clj |... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-09-14">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/09/14/your_first_application.html#disqus_thread" data-disqus-identifier="/2013/09/14/your_first_application">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/03/17/scala_exercises_15.html" title="Permalink to 快学Scala习题解答—第十五章 注解">快学Scala习题解答—第十五章 注解</a>
    </h1>
  </header>
  <p>
      <h1>注解</h1>
<h2>编写四个JUnit测试用例，分别使用带或不带某个参数的@Test注解。用JUnit执行这些测试</h2>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.junit.Test</span>
<span class="k">class</span> <span class="nc">ScalaTest</span> <span class="o">{</span>
  <span class="nd">@Test</span>
  <span class="k">def</span> <span class="n">test1</span><span class="o">(){</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;test1&quot;</span><span class="o">)</span>
  <span class="o">}</span>
  <span class="nd">@Test</span><span class="o">(</span><span class="n">timeout</span> <span class="k">=</span> <span class="mi">1L</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">test2</span><span class="o">(){</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;test2&quot;</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h2>创建一个类的示例，展示注解可以出现的所有位置。用@deprecated作为你的示例注解。</h2>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@deprecated</span>
<span class="k">class</span> <span class="nc">Test</span><span class="o">{</span>
  <span class="nd">@deprecated</span>
  <span class="k">val</span> <span class="n">t</span> <span class="k">=</span> <span class="k">_</span><span class="o">;</span>
  <span class="nd">@deprecated</span><span class="o">(</span><span class="n">message</span> <span class="k">=</span> <span class="s">&quot;unuse&quot;</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">hello</span><span class="o">(){</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="nd">@deprecated</span>
<span class="k">object</span> <span class="nc">Test</span> <span class="k">extends</span> <span class="nc">App</span><span class="o">{</span>
  <span class="k">val</span> <span class="n">t</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Test</span><span class="o">()</span>
  <span class="n">t</span><span class="o">.</span><span class="n">hello</span><span class="o">()</span>
  <span class="n">t</span><span class="o">.</span><span class="n">t</span>
<span class="o">}</span>
</code></pre></div>
      <!-- 注解 编写四个JUnit测试用例，分别使用带或不带某个参数的@Test注解。用JUnit执行这些测试 import org.junit.Test class ScalaTest { @Test def test1(){ print(&quot;test1&quot;) } @Test(timeout = 1L) def test2(){ print(&quot;test2&quot;) } } 创建一个类的示例，展示注解可以出现的所有位置。用@deprecated作为你的示例注解。 @deprecated class Test{ @deprecated val t = _; @deprecated(message = &quot;unuse&quot;) def hello(){ println(&quot;hello&quot;) } } @deprecated object Test extends App{ val t = new Test() t.hello() t.t }... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-03-17">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/03/17/scala_exercises_15.html#disqus_thread" data-disqus-identifier="/2013/03/17/scala_exercises_15">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1 class="post-title">
        <a href="/2013/03/16/scala_exercises_14.html" title="Permalink to 快学Scala习题解答—第十四章 模式匹配和样例类">快学Scala习题解答—第十四章 模式匹配和样例类</a>
    </h1>
  </header>
  <p>
      <h1>模式匹配和样例类</h1>
<h2>JDK发行包有一个src.zip文件包含了JDK的大多数源代码。解压并搜索样例标签(用正则表达式case [^:]+:)。然后查找以//开头并包含[Ff]alls?thr的注释，捕获类似// Falls through或// just fall thru这样的注释。假定JDK的程序员们遵守Java编码习惯，在该写注释的地方写下了这些注释，有多少百分比的样例是会掉入到下一个分支的？</h2>
<p>没读懂题意。。。。</p>
<h2>利用模式匹配，编写一个swap函数，接受一个整数的对偶，返回对偶的两个组成部件互换位置的新对偶</h2>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">swap</span><span class="o">[</span><span class="kt">S</span>,<span class="kt">T</span><span class="o">](</span><span class="n">tup</span><span class="k">:</span> <span class="o">(</span><span class="kt">S</span><span class="o">,</span><span class="kt">T</span><span class="o">))</span> <span class="k">=</span> <span class="o">{</span>
    <span class="n">tup</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="o">(</span><span class="n">a</span> <span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="n">a</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">println</span><span class="o">(</span><span class="n">swap</span><span class="o">[</span><span class="kt">String</span>,<span class="kt">Int</span><span class="o">]((</span><span class="s">&quot;1&quot;</span><span class="o">,</span><span class="mi">2</span><span class="o">)))</span>
</code></pre></div>
<h2>利用模式匹配，编写一个swap函数，交换数组中的前两个元素的位置，前提条件是数组长度至少为2</h2>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">swap</span><span class="o">(</span><span class="n">arr</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span> <span class="k">=</span> <span class="o">{</span>
  <span class="n">arr</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Array</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">,</span> <span class="n">ar</span> <span class="k">@</span> <span class="k">_</span><span class="o">*)</span> <span class="k">=&gt;</span> <span class="nc">Array</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="n">a</span><span class="o">)</span> <span class="o">++</span> <span class="n">ar</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">arr</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="n">println</span><span class="o">(</span><span class="n">swap</span><span class="o">(</span><span class="nc">Array</span><span class="o">(</span><span class="s">&quot;1&quot;</span><span class="o">,</span><span class="s">&quot;2&quot;</span><span class="o">,</span><span class="s">&quot;3&quot;</span><span class="o">,</span><span class="s">&quot;4&quot;</span><span class="o">)).</span><span class="n">mkString</span><span class="o">)</span>
</code></pre></div>
      <!-- 模式匹配和样例类 JDK发行包有一个src.zip文件包含了JDK的大多数源代码。解压并搜索样例标签(用正则表达式case [^:]+:)。然后查找以//开头并包含[Ff]alls?thr的注释，捕获类似// Falls through或// just fall thru这样的注释。假定JDK的程序员们遵守Java编码习惯，在该写注释的地方写下了这些注释，有多少百分比的样例是会掉入到下一个分支的？ 没读懂题意。。。。 利用模式匹配，编写一个swap函数，接受一个整数的对偶，返回对偶的两个组成部件互换位置的新对偶 def swap[S,T](tup: (S,T)) = { tup match { case (a ,b) =&gt; (b,a) } } println(swap[String,Int]((&quot;1&quot;,2))) 利用模式匹配，编写一个swap函数，交换数组中的前两个元素的位置，前提条件是数组长度至少为2 def swap(arr: Array[String]) = { arr match { case Array(a,b, ar @ _*) =&gt; Array(b,a) ++ ar case _ =&gt; arr } }... -->
  </p>
  <footer class="post-meta">
    <time datetime="2013-03-16">
      <i class="fa fa-calendar-o"></i> 
    </time>
    <span>
      <i class="fa fa-comments"></i> <a href="/2013/03/16/scala_exercises_14.html#disqus_thread" data-disqus-identifier="/2013/03/16/scala_exercises_14">Leave a comment</a>
    </span>
    <span>
        <i class="fa fa-folder-open-o"></i> 
    </span>
  </footer>
</article>
<nav class="pagination" role="pagination">
    <a class="older-posts" href="/page/13/" title="Articles old">&laquo; Old</a>
  <span class="page-number">Page 12 of 14</span>
      <a class="newer-posts" href="/page/11/" title="Articles new">New &raquo;</a>
</nav>
    </main>
<footer class="footer">
  <div class="container">
    <ul class="icons">
      <li>
        <a href="http://github.com/ivaneye" class="icon-github" target="_blank">
          <i class="fa fa-github"></i>
        </a>
      </li>
      <li>
        <a href="http://facebook.com/ivan.pig.73" class="icon-facebook" target="_blank">
          <i class="fa fa-facebook"></i>
        </a>
      </li>
      <li>
        <a href="http://twitter.com/ivanpig" class="icon-twitter" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
      <!--<li>
        <a href="" class="icon-instagram" target="_blank">
          <i class="fa fa-instagram"></i>
        </a>
    </li>-->
      <li>
        <a href="https://cn.linkedin.com/in/ivan-wang-a6259b59" class="icon-linkedin" target="_blank">
          <i class="fa fa-linkedin"></i>
        </a>
      </li>
    </ul>
    <p>
      <q>I have no special talent. I am only passionately curious.</q>
      <small>– Albert Einstein</small>
    </p>
    <small class="clearfix">
      Made with <a href="http://jekyllrb.com" target="_blank">Jekyll</a> • <a href="" target="_blank">Open source <i class="fa fa-heart"></i></a>
    </small>
  </div>
</footer>
<a class="scroll-up fa fa-chevron-up bounce" href="#" data-position="0"></a>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<div id="modalSearch" class="modal">
  <div class="modal__overlay"></div>
  <div class="modal__content">
    <a href="#!" class="modal-close" data-modal-close>&times;</a>
    <div class="search-container">
      <input type="text" id="search-input" placeholder="Search in 97 articles">
      <ul id="results-container"></ul>
    </div>
  </div>
</div>
    <script src="/assets/main-52d417e8a6ff9f5b168386d37c96338a.js"></script>
  </body>
</html>
